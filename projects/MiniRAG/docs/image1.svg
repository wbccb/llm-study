<?xml version="1.0" standalone="no"?><?xml-stylesheet type="text/css" href="https://wps.processon.com/themes/default/wps/mind/icons/icons.css" ?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg id="SvgjsSvg1006" width="1732" height="583" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1098" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1099" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1122" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1123" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1126" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1127" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="1732" height="583" fill="rgb(255,255,255)"></rect><rect id="SvgjsRect1009" width="1732" height="583" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="1732" height="583" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(25,25)"><path id="SvgjsPath1012" d="M 0 0L 1682 0L 1682 533L 0 533Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill="none"></path><path id="SvgjsPath1013" d="M 0 0L 1682 0L 1682 40L 0 40Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1014"><text id="SvgjsText1015" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="16px" width="1662px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="16px" weight="400" font-style="" opacity="1" y="6" transform="rotate(0)"><tspan id="SvgjsTspan1016" dy="20" x="841"><tspan id="SvgjsTspan1017" style="">RAG</tspan></tspan></text></g></g><g id="SvgjsG1018" transform="translate(25,65)"><path id="SvgjsPath1019" d="M 0 0L 363 0L 363 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1020" d="M 0 0L 363 0L 363 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1021"><text id="SvgjsText1022" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="343px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1023" dy="16.25" x="181.5"><tspan id="SvgjsTspan1024" style="">环境配置</tspan></tspan></text></g></g><g id="SvgjsG1025" transform="translate(388,65)"><path id="SvgjsPath1026" d="M 0 0L 247 0L 247 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1027" d="M 0 0L 247 0L 247 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="227px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="16.25" x="123.5"><tspan id="SvgjsTspan1031" style="">核心组件初始化</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(635,65)"><path id="SvgjsPath1033" d="M 0 0L 250 0L 250 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1034" d="M 0 0L 250 0L 250 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1035"><text id="SvgjsText1036" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="230px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1037" dy="16.25" x="125"><tspan id="SvgjsTspan1038" style="">文档处理流程-PDF解析与分块</tspan></tspan></text></g></g><g id="SvgjsG1039" transform="translate(885,65)"><path id="SvgjsPath1040" d="M 0 0L 250 0L 250 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1041" d="M 0 0L 250 0L 250 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1042"><text id="SvgjsText1043" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="230px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1044" dy="16.25" x="125"><tspan id="SvgjsTspan1045" style="">混合检索系统</tspan></tspan></text></g></g><g id="SvgjsG1046" transform="translate(1135,65)"><path id="SvgjsPath1047" d="M 0 0L 274 0L 274 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1048" d="M 0 0L 274 0L 274 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1049"><text id="SvgjsText1050" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="254px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1051" dy="16.25" x="137"><tspan id="SvgjsTspan1052" style="">结果优化模块</tspan></tspan></text></g></g><g id="SvgjsG1053" transform="translate(1409,65)"><path id="SvgjsPath1054" d="M 0 0L 298 0L 298 493L 0 493Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1055" d="M 0 0L 298 0L 298 30L 0 30Z" stroke="rgba(33,41,48,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1056"><text id="SvgjsText1057" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="278px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1058" dy="16.25" x="149"><tspan id="SvgjsTspan1059" style="">问答生成系统</tspan></tspan></text></g></g><g id="SvgjsG1060" transform="translate(70,113.44444444444449)"><path id="SvgjsPath1061" d="M 0 4Q 0 0 4 0L 265 0Q 269 0 269 4L 269 112.5Q 269 116.5 265 116.5L 4 116.5Q 0 116.5 0 112.5Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1062"><text id="SvgjsText1063" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="249px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="6.625" transform="rotate(0)"><tspan id="SvgjsTspan1064" dy="16.25" x="10"><tspan id="SvgjsTspan1065" style="font-weight: bold;fill: rgb(231, 79, 76);">依赖加载</tspan></tspan><tspan id="SvgjsTspan1066" dy="16.25" x="10"><tspan id="SvgjsTspan1067" style="fill: rgb(231, 79, 76);">核心库</tspan><tspan id="SvgjsTspan1068" style="fill: rgb(231, 79, 76);font-weight: bold;">：</tspan><tspan id="SvgjsTspan1069" style="">Gradio（界面）、pdfminer</tspan></tspan><tspan id="SvgjsTspan1070" dy="16.25" x="10"><tspan id="SvgjsTspan1071" style="">（PDF解析）、sentence-transformers</tspan></tspan><tspan id="SvgjsTspan1072" dy="16.25" x="10"><tspan id="SvgjsTspan1073" style="">（嵌入模型）、chromadb（向量数据库）</tspan></tspan><tspan id="SvgjsTspan1074" dy="16.25" x="10"><tspan id="SvgjsTspan1075" style="fill: rgb(231, 79, 76);">辅助库</tspan><tspan id="SvgjsTspan1076" style="fill: rgb(231, 79, 76);font-weight: bold;">：</tspan><tspan id="SvgjsTspan1077" style="">jieba（中文分词）、BM25Okapi</tspan></tspan><tspan id="SvgjsTspan1078" dy="16.25" x="10"><tspan id="SvgjsTspan1079" style="">（关键词检索）、dotenv（环境变量）</tspan></tspan></text></g></g><g id="SvgjsG1080" transform="translate(35,284.69444444444457)"><path id="SvgjsPath1081" d="M 0 0L 339 0L 339 106L 0 106Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1082"><text id="SvgjsText1083" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="319px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="1.375" transform="rotate(0)"><tspan id="SvgjsTspan1084" dy="16.25" x="10"><tspan id="SvgjsTspan1085" style=""># 加载环境变量</tspan></tspan><tspan id="SvgjsTspan1086" dy="16.25" x="10"><tspan id="SvgjsTspan1087" style="">load_dotenv()</tspan></tspan><tspan id="SvgjsTspan1088" dy="16.25" x="10"><tspan id="SvgjsTspan1089" style="">SERPAPI_KEY = os.getenv("SERPAPI_KEY")</tspan></tspan><tspan id="SvgjsTspan1090" dy="16.25" x="10"><tspan id="SvgjsTspan1091" style=""># 重排序方法配置</tspan></tspan><tspan id="SvgjsTspan1092" dy="16.25" x="10"><tspan id="SvgjsTspan1093" style="">RERANK_METHOD = </tspan></tspan><tspan id="SvgjsTspan1094" dy="16.25" x="10"><tspan id="SvgjsTspan1095" style="">os.getenv("RERANK_METHOD", "cross_encoder")  </tspan></tspan></text></g></g><g id="SvgjsG1096"><path id="SvgjsPath1097" d="M204.5 230.69444444444457L204.5 257.31944444444457L204.5 257.31944444444457L204.5 281.9944444444446" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1098)"></path></g><g id="SvgjsG1100" transform="translate(409,126.44444444444449)"><path id="SvgjsPath1101" d="M 0 4Q 0 0 4 0L 201 0Q 205 0 205 4L 205 50.5Q 205 54.5 201 54.5L 4 54.5Q 0 54.5 0 50.5Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1102"><text id="SvgjsText1103" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="185px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="16.625" transform="rotate(0)"><tspan id="SvgjsTspan1104" dy="16.25" x="102.5"><tspan id="SvgjsTspan1105" style="">向量模型all-MiniLM-L6-v2加载</tspan></tspan></text></g></g><g id="SvgjsG1106" transform="translate(407.5,218.44444444444457)"><path id="SvgjsPath1107" d="M 0 4Q 0 0 4 0L 201 0Q 205 0 205 4L 205 50.5Q 205 54.5 201 54.5L 4 54.5Q 0 54.5 0 50.5Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1108"><text id="SvgjsText1109" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="185px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="16.625" transform="rotate(0)"><tspan id="SvgjsTspan1110" dy="16.25" x="102.5"><tspan id="SvgjsTspan1111" style="">向量数据库chroma_db加载</tspan></tspan></text></g></g><g id="SvgjsG1112" transform="translate(409,310.44444444444457)"><path id="SvgjsPath1113" d="M 0 4Q 0 0 4 0L 201 0Q 205 0 205 4L 205 50.5Q 205 54.5 201 54.5L 4 54.5Q 0 54.5 0 50.5Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1114"><text id="SvgjsText1115" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="185px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="8.125" transform="rotate(0)"><tspan id="SvgjsTspan1116" dy="16.25" x="102.5"><tspan id="SvgjsTspan1117" style="">BM25索引管理类初始化</tspan></tspan><tspan id="SvgjsTspan1118" dy="16.25" x="102.5"><tspan id="SvgjsTspan1119" style="">BM25IndexManager()</tspan></tspan></text></g></g><g id="SvgjsG1120"><path id="SvgjsPath1121" d="M511.5 181.69444444444454L511.5 199.69444444444457L511.5 199.69444444444457L511.5 215.74444444444458" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1122)"></path></g><g id="SvgjsG1124"><path id="SvgjsPath1125" d="M510 273.69444444444457L510 291.69444444444457L510 291.69444444444457L510 307.7444444444446" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1126)"></path></g><g id="SvgjsG1128" transform="translate(664,117.69444444444449)"><path id="SvgjsPath1129" d="M 0 4Q 0 0 4 0L 194 0Q 198 0 198 4L 198 51.75Q 198 55.75 194 55.75L 4 55.75Q 0 55.75 0 51.75Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1130"><text id="SvgjsText1131" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="178px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="8.75" transform="rotate(0)"><tspan id="SvgjsTspan1132" dy="16.25" x="99"><tspan id="SvgjsTspan1133" style="">改进的PDF文本提取方法</tspan></tspan><tspan id="SvgjsTspan1134" dy="16.25" x="99"><tspan id="SvgjsTspan1135" style="">def extract_text(filepath)</tspan></tspan></text></g></g><g id="SvgjsG1136" transform="translate(659,211.44444444444457)"><path id="SvgjsPath1137" d="M 0 4Q 0 0 4 0L 199 0Q 203 0 203 4L 203 211Q 203 215 199 215L 4 215Q 0 215 0 211Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1138"><text id="SvgjsText1139" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="183px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="96.875" transform="rotate(0)"><tspan id="SvgjsTspan1140" dy="16.25" x="101.5"><tspan id="SvgjsTspan1141" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1142" transform="translate(668.5,284.69444444444457)"><path id="SvgjsPath1143" d="M 0 0L 189 0L 189 123.5L 0 123.5Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1144"><text id="SvgjsText1145" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="169px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="18.625" transform="rotate(0)"><tspan id="SvgjsTspan1146" dy="16.25" x="10"><tspan id="SvgjsTspan1147" style="">1. 清理历史数据</tspan></tspan><tspan id="SvgjsTspan1148" dy="16.25" x="10"><tspan id="SvgjsTspan1149" style="">2. 文本分块（400字符/块）</tspan></tspan><tspan id="SvgjsTspan1150" dy="16.25" x="10"><tspan id="SvgjsTspan1151" style="">3. 生成文档指纹</tspan></tspan><tspan id="SvgjsTspan1152" dy="16.25" x="10"><tspan id="SvgjsTspan1153" style="">4. 向量存储</tspan></tspan><tspan id="SvgjsTspan1154" dy="16.25" x="10"><tspan id="SvgjsTspan1155" style="">5. 构建BM25索引</tspan></tspan></text></g></g><g id="SvgjsG1156" transform="translate(662,218.19444444444457)"><path id="SvgjsPath1157" d="M 0 0L 189 0L 189 59.5L 0 59.5Z" stroke="none" fill="none"></path><g id="SvgjsG1158"><text id="SvgjsText1159" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="189px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="10.625" transform="rotate(0)"><tspan id="SvgjsTspan1160" dy="16.25" x="94.5"><tspan id="SvgjsTspan1161" style="">多文件处理流程</tspan></tspan><tspan id="SvgjsTspan1162" dy="16.25" x="94.5"><tspan id="SvgjsTspan1163" style="">def process_multiple_pdfs()</tspan></tspan></text></g></g><g id="SvgjsG1164" transform="translate(905.25,113.44444444444449)"><path id="SvgjsPath1165" d="M 0 4Q 0 0 4 0L 209.75 0Q 213.75 0 213.75 4L 213.75 165Q 213.75 169 209.75 169L 4 169Q 0 169 0 165Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1166"><text id="SvgjsText1167" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="194px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="73.875" transform="rotate(0)"><tspan id="SvgjsTspan1168" dy="16.25" x="107"><tspan id="SvgjsTspan1169" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1170" transform="translate(918.25,173.44444444444454)"><path id="SvgjsPath1171" d="M 0 0L 187.75 0L 187.75 80.5L 0 80.5Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1172"><text id="SvgjsText1173" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="168px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="13.125" transform="rotate(0)"><tspan id="SvgjsTspan1174" dy="16.25" x="10"><tspan id="SvgjsTspan1175" style="">1. 混合检索(向量+BM25)</tspan></tspan><tspan id="SvgjsTspan1176" dy="16.25" x="10"><tspan id="SvgjsTspan1177" style="">2. 结果重排序</tspan></tspan><tspan id="SvgjsTspan1178" dy="16.25" x="10"><tspan id="SvgjsTspan1179" style="">3. 查询优化(LLM生成新查询)</tspan></tspan></text></g></g><g id="SvgjsG1180" transform="translate(911.5,129.94444444444449)"><path id="SvgjsPath1181" d="M 0 0L 189 0L 189 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1182"><text id="SvgjsText1183" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="189px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1184" dy="16.25" x="94.5"><tspan id="SvgjsTspan1185" style="">def recursive_retrieval()</tspan></tspan><tspan id="SvgjsTspan1186" dy="16.25" x="94.5"><tspan id="SvgjsTspan1187" style="">递归检索三阶段</tspan></tspan></text></g></g><g id="SvgjsG1188" transform="translate(905.25,331.44444444444457)"><path id="SvgjsPath1189" d="M 0 4Q 0 0 4 0L 209.75 0Q 213.75 0 213.75 4L 213.75 165Q 213.75 169 209.75 169L 4 169Q 0 169 0 165Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1190"><text id="SvgjsText1191" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="194px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="73.875" transform="rotate(0)"><tspan id="SvgjsTspan1192" dy="16.25" x="107"><tspan id="SvgjsTspan1193" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1194" transform="translate(915.1875,398.69444444444457)"><path id="SvgjsPath1195" d="M 0 0L 193.875 0L 193.875 81.25L 0 81.25Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1196"><text id="SvgjsText1197" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="174px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="13.5" transform="rotate(0)"><tspan id="SvgjsTspan1198" dy="16.25" x="10"><tspan id="SvgjsTspan1199" style="">1. 语义检索得分(0.7权重)</tspan></tspan><tspan id="SvgjsTspan1200" dy="16.25" x="10"><tspan id="SvgjsTspan1201" style="">2. BM25归一化得分(0.3权重)</tspan></tspan><tspan id="SvgjsTspan1202" dy="16.25" x="10"><tspan id="SvgjsTspan1203" style="">3. 得分加权融合</tspan></tspan></text></g></g><g id="SvgjsG1204" transform="translate(911.5,347.94444444444457)"><path id="SvgjsPath1205" d="M 0 0L 189 0L 189 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1206"><text id="SvgjsText1207" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="189px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1208" dy="16.25" x="94.5"><tspan id="SvgjsTspan1209" style="">def hybrid_merge()</tspan></tspan><tspan id="SvgjsTspan1210" dy="16.25" x="94.5"><tspan id="SvgjsTspan1211" style="">混合检索算法</tspan></tspan></text></g></g><g id="SvgjsG1212" transform="translate(1167.7499999999998,105.69444444444454)"><path id="SvgjsPath1213" d="M 0 4Q 0 0 4 0L 209.75 0Q 213.75 0 213.75 4L 213.75 200.75Q 213.75 204.75 209.75 204.75L 4 204.75Q 0 204.75 0 200.75Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1214"><text id="SvgjsText1215" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="194px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="91.75" transform="rotate(0)"><tspan id="SvgjsTspan1216" dy="16.25" x="107"><tspan id="SvgjsTspan1217" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1218" transform="translate(1184.7499999999998,170.44444444444454)"><path id="SvgjsPath1219" d="M 0 0L 187.75 0L 187.75 118.75L 0 118.75Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1220"><text id="SvgjsText1221" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="168px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="16.25" transform="rotate(0)"><tspan id="SvgjsTspan1222" dy="16.25" x="10"><tspan id="SvgjsTspan1223" style="fill: rgb(231, 79, 76);">双重优化机制：</tspan></tspan><tspan id="SvgjsTspan1224" dy="16.25" x="10"><tspan id="SvgjsTspan1225" style="">1. 交叉编码器(多语言模型)</tspan></tspan><tspan id="SvgjsTspan1226" dy="16.25" x="10"><tspan id="SvgjsTspan1227" style="">2. LLM相关性评分(带缓存)</tspan></tspan><tspan id="SvgjsTspan1228" dy="16.25" x="10"><tspan id="SvgjsTspan1229" style="">优先级：CrossEncoder &gt; </tspan></tspan><tspan id="SvgjsTspan1230" dy="16.25" x="10"><tspan id="SvgjsTspan1231" style="">LLM &gt; 原始排序</tspan></tspan></text></g></g><g id="SvgjsG1232" transform="translate(1173.9999999999998,122.19444444444449)"><path id="SvgjsPath1233" d="M 0 0L 189 0L 189 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1234"><text id="SvgjsText1235" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="189px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1236" dy="16.25" x="94.5"><tspan id="SvgjsTspan1237" style="">def rerank_results()</tspan></tspan><tspan id="SvgjsTspan1238" dy="16.25" x="94.5"><tspan id="SvgjsTspan1239" style="">重排序策略</tspan></tspan></text></g></g><g id="SvgjsG1240" transform="translate(1151.9999999999998,331.44444444444457)"><path id="SvgjsPath1241" d="M 0 4Q 0 0 4 0L 237 0Q 241 0 241 4L 241 119Q 241 123 237 123L 4 123Q 0 123 0 119Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1242"><text id="SvgjsText1243" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="221px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="50.875" transform="rotate(0)"><tspan id="SvgjsTspan1244" dy="16.25" x="120.5"><tspan id="SvgjsTspan1245" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1246" transform="translate(1169.2499999999998,382.81944444444457)"><path id="SvgjsPath1247" d="M 0 0L 210.75 0L 210.75 56.25L 0 56.25Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1248"><text id="SvgjsText1249" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="191px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1250" dy="16.25" x="10"><tspan id="SvgjsTspan1251" style="fill: rgb(231, 79, 76);">.gov.cn &gt; .edu.cn &gt; 微信公众号 </tspan></tspan><tspan id="SvgjsTspan1252" dy="16.25" x="10"><tspan id="SvgjsTspan1253" style="fill: rgb(231, 79, 76);">&gt; 知乎 &gt; 百度</tspan></tspan></text></g></g><g id="SvgjsG1254" transform="translate(1149.7499999999998,331.44444444444457)"><path id="SvgjsPath1255" d="M 0 0L 243.25 0L 243.25 51L 0 51Z" stroke="none" fill="none"></path><g id="SvgjsG1256"><text id="SvgjsText1257" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="244px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="6.375" transform="rotate(0)"><tspan id="SvgjsTspan1258" dy="16.25" x="122"><tspan id="SvgjsTspan1259" style="">def evaluate_source_credibility()</tspan></tspan><tspan id="SvgjsTspan1260" dy="16.25" x="122"><tspan id="SvgjsTspan1261" style="">来源可信度评分体系</tspan></tspan></text></g></g><g id="SvgjsG1262" transform="translate(1442.2499999999998,105.69444444444454)"><path id="SvgjsPath1263" d="M 0 4Q 0 0 4 0L 209.75 0Q 213.75 0 213.75 4L 213.75 200.75Q 213.75 204.75 209.75 204.75L 4 204.75Q 0 204.75 0 200.75Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1264"><text id="SvgjsText1265" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="194px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="91.75" transform="rotate(0)"><tspan id="SvgjsTspan1266" dy="16.25" x="107"><tspan id="SvgjsTspan1267" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1268" transform="translate(1455.2499999999998,170.44444444444454)"><path id="SvgjsPath1269" d="M 0 0L 193.125 0L 193.125 118.75L 0 118.75Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1270"><text id="SvgjsText1271" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="174px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="7.75" transform="rotate(0)"><tspan id="SvgjsTspan1272" dy="16.25" x="10"><tspan id="SvgjsTspan1273" style="fill: rgb(231, 79, 76);">流式问答流程：</tspan></tspan><tspan id="SvgjsTspan1274" dy="16.25" x="10"><tspan id="SvgjsTspan1275" style="">1. 上下文收集（本地+网络）</tspan></tspan><tspan id="SvgjsTspan1276" dy="16.25" x="10"><tspan id="SvgjsTspan1277" style="">2. 矛盾检测（关键事实比对）</tspan></tspan><tspan id="SvgjsTspan1278" dy="16.25" x="10"><tspan id="SvgjsTspan1279" style="">3. 时效性判断</tspan></tspan><tspan id="SvgjsTspan1280" dy="16.25" x="10"><tspan id="SvgjsTspan1281" style="">4. 多模型支持</tspan></tspan><tspan id="SvgjsTspan1282" dy="16.25" x="10"><tspan id="SvgjsTspan1283" style="">（Ollama/SiliconFlow）</tspan></tspan></text></g></g><g id="SvgjsG1284" transform="translate(1448.4999999999998,122.19444444444449)"><path id="SvgjsPath1285" d="M 0 0L 189 0L 189 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1286"><text id="SvgjsText1287" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="189px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1288" dy="16.25" x="94.5"><tspan id="SvgjsTspan1289" style="">def stream_answer()</tspan></tspan><tspan id="SvgjsTspan1290" dy="16.25" x="94.5"><tspan id="SvgjsTspan1291" style="">对话管理</tspan></tspan></text></g></g><g id="SvgjsG1292" transform="translate(1435.9374999999998,323.69444444444457)"><path id="SvgjsPath1293" d="M 0 4Q 0 0 4 0L 242.313 0Q 246.313 0 246.313 4L 246.313 214.75Q 246.313 218.75 242.313 218.75L 4 218.75Q 0 218.75 0 214.75Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1294"><text id="SvgjsText1295" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="227px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="98.75" transform="rotate(0)"><tspan id="SvgjsTspan1296" dy="16.25" x="123.5"><tspan id="SvgjsTspan1297" style=""> </tspan></tspan></text></g></g><g id="SvgjsG1298" transform="translate(1446.2499999999998,414.94444444444446)"><path id="SvgjsPath1299" d="M 0 0L 219.75 0L 219.75 102.75L 0 102.75Z" stroke-dasharray="7.5,3" stroke="rgba(231,79,76,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1300"><text id="SvgjsText1301" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="start" font-size="13px" width="200px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="16.25" transform="rotate(0)"><tspan id="SvgjsTspan1302" dy="16.25" x="10"><tspan id="SvgjsTspan1303" style="">思维链可视化：</tspan></tspan><tspan id="SvgjsTspan1304" dy="16.25" x="10"><tspan id="SvgjsTspan1305" style="">1. 标签解析(&lt;THINK&gt;&lt;/THINK&gt;)</tspan></tspan><tspan id="SvgjsTspan1306" dy="16.25" x="10"><tspan id="SvgjsTspan1307" style="">2. Markdown折叠展示</tspan></tspan><tspan id="SvgjsTspan1308" dy="16.25" x="10"><tspan id="SvgjsTspan1309" style="">3. HTML安全转义</tspan></tspan></text></g></g><g id="SvgjsG1310" transform="translate(1448.3124999999998,336.94444444444457)"><path id="SvgjsPath1311" d="M 0 0L 215.625 0L 215.625 51L 0 51Z" stroke="none" fill="none"></path><g id="SvgjsG1312"><text id="SvgjsText1313" font-family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" text-anchor="middle" font-size="13px" width="216px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Microsoft YaHei&quot;, 微软雅黑, Arial" size="13px" weight="400" font-style="" opacity="1" y="6.375" transform="rotate(0)"><tspan id="SvgjsTspan1314" dy="16.25" x="108"><tspan id="SvgjsTspan1315" style="">def process_thinking_content()</tspan></tspan><tspan id="SvgjsTspan1316" dy="16.25" x="108"><tspan id="SvgjsTspan1317" style="">思维链处理</tspan></tspan></text></g></g><g id="SvgjsG1318"></g><g id="normal_brand" transform="translate(681,346.5)"><text id="SvgjsText1320" font-family="Helvetica, Arial, sans-serif" style="transform:rotate(-30deg);opacity: 0.09; color:#aaa; font-family: Microsoft Yahei;"><tspan id="SvgjsTspan1321" font-size="72" dy="0" x="0"></tspan></text></g></svg>