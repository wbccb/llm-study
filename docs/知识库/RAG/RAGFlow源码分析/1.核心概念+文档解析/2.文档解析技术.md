# 文档解析技术

对于来自不同领域、具有不同格式和不同检索要求的大量文档，准确的分析成为一项极具挑战性的任务。DeepDoc 就是为了这个目的而诞生的。到目前为止，DeepDoc 中有两个组成部分：视觉处理和解析器

## 视觉处理

### t_ocr.py
**OCR（Optical Character Recognition，光学字符识别）**：由于许多文档都是以图像形式呈现的，或者至少能够转换为图像，因此OCR是文本提取的一个非常重要、基本，甚至通用的解决方案。

### t_recognizer.py
#### 布局识别（Layout recognition）
来自不同领域的文件可能有不同的布局，如报纸、杂志、书籍和简历在布局方面是不同的。只有当机器有准确的布局分析时，它才能决定这些文本部分是连续的还是不连续的，或者这个部分需要表结构识别（Table Structure Recognition，TSR）来处理，或者这个部件是一个图形并用这个标题来描述。

我们有10个基本布局组件，涵盖了大多数情况：
* 文本
* 标题
* 配图
* 配图标题
* 表格
* 表格标题
* 页头
* 页尾
* 参考引用
* 公式

#### TSR（Table Structure Recognition，表结构识别）

数据表是一种常用的结构，用于表示包括数字或文本在内的数据。

表的结构可能非常复杂，比如层次结构标题、跨单元格和投影行标题。

除了TSR，我们还将内容重新组合成LLM可以很好理解的句子。TSR任务有五个标签：
* 列
* 行
* 列标题
* 行标题
* 合并单元格

## 解析器
PDF、DOCX、EXCEL和PPT四种文档格式都有相应的解析器。最复杂的是PDF解析器，因为PDF具有灵活性。PDF解析器的输出包括：
* 在PDF中有自己位置的文本块（页码和矩形位置）。
* 带有PDF裁剪图像的表格，以及已经翻译成自然语言句子的内容。
* 图中带标题和文字的图。


## 具体代码解析




# 参考
1. [深度解读RAGFlow的深度文档理解DeepDoc](https://cloud.tencent.com/developer/article/2406911)
2. [RAG文档解析调研](https://blog.csdn.net/weixin_42414681/article/details/140250113)